<!DOCTYPE html>
<! -- I promise to clean up the html and js -->
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Moss Live</title>
    <style>
        body { margin:0; background: #1a1a1a; font-family: "Comic Sans MS", sans-serif; overflow-x: hidden; }
        * { box-sizing: border-box; }

        .bg-video {
            position: fixed;
            top: 50%;
            left: 50%;
            width: 100%;
            height: 100%;
            object-fit: cover;
            transform: translate(-50%, -50%);
            opacity: 0;
            transition: opacity 1s ease-in;
            z-index: -1;
        }

        .content-wrapper {
            position: relative;
            z-index: 1;
            color: white;
            text-shadow: 2px 2px 4px rgba(0,0,0,0.8);
            padding: 40px;
            max-width: 800px;
            margin: 40px auto;
            background: rgba(0,0,0,0.5);
            border-radius: 15px;
            display: none;
        }

        .ad-container {
            display: none;
            position: fixed;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%);
            width: 500px;
            padding: 20px;
            background: white;
            border: 3px solid #ff0000;
            box-shadow: 0 0 20px rgba(0,0,0,0.5);
            z-index: 9999;
            text-align: center;
        }

        .ad-container img {
            max-width: 100%;
            height: auto;
            display: block;
            margin: 10px auto;
        }
        .spam-box {
            position: fixed;
            width: 200px;
            padding: 15px;
            background: #ff0000;
            color: white;
            border: 4px outset #cc0000;
            z-index: 10000;
            font-family: 'Courier New', Courier, monospace;
            font-weight: bold;
            text-align: center;
            box-shadow: 10px 10px rgba(0,0,0,0.5);
        }

        .close-btn {
            position: absolute;
            top: 5px;
            right: 10px;
            cursor: pointer;
            color: black;
            font-weight: bold;
        }

        .close-spam {
            position: absolute;
            top: 0;
            right: 5px;
            cursor: pointer;
            background: black;
            color: white;
            padding: 0 5px;
        }

        #moss-paywall {
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: rgba(0,0,0,0.95); color: #00ff00;
            display: flex; flex-direction: column;
            justify-content: center; align-items: center;
            z-index: 9999; text-align: center;
            font-family: 'Courier New', Courier, monospace;
            padding: 20px;
        }

        #tinder-overlay {
            display: none;
            position: fixed; top: 0; left: 0; width: 100%; height: 100%;
            background: linear-gradient(45deg, #ff9a9e 0%, #fad0c4 99%, #fad0c4 100%);
            z-index: 9000;
            flex-direction: column;
            align-items: center;
            justify-content: center;
            color: #333;
        }

        .tinder-card {
            width: 300px;
            background: white;
            border-radius: 10px;
            box-shadow: 0 10px 20px rgba(0,0,0,0.2);
            overflow: hidden;
            position: relative;
            transition: transform 0.3s ease, opacity 0.3s ease;
        }

        .tinder-card img {
            width: 100%;
            height: 300px;
            object-fit: cover;
            border-bottom: 5px solid pink;
        }

        .tinder-info { padding: 15px; text-align: left; }
        .tinder-name { font-size: 1.5rem; font-weight: bold; margin: 0; }
        .tinder-bio { color: #666; font-size: 0.9rem; margin-top: 5px; }

        .tinder-controls {
            margin-top: 20px;
            display: flex;
            gap: 20px;
        }

        .btn-no {
            position: relative;
            width: 50px;
            height: 50px;
            display: inline-block;
            cursor: pointer;
            transition: transform 0.2s ease;
            margin: 30px;
            background: transparent;
            border: none;
            color: transparent;
        }

        .btn-no::before,
        .btn-no::after {
            content: "";
            position: absolute;
            top: 50%;
            left: 0;
            width: 100%;
            height: 8px;
            background: #101010;
            border-radius: 4px;
        }
        .btn-no::before {
            transform: translateY(-50%) rotate(45deg);
        }

        .btn-no::after {
            transform: translateY(-50%) rotate(-45deg);
        }

        .btn-no:hover {
            transform: scale(1.1);
        }

        .btn-no:hover::before,
        .btn-no:hover::after {
            background: #707070;
        }

        .btn-yes {
            position: relative;
            width: 50px;
            height: 50px;
            background-color: #b71c1c;
            transform: rotate(-45deg);
            margin: 30px;
            display: inline-block;
            cursor: pointer;
            transition: transform 0.2s ease;
            color: transparent;
            border: none;
        }
        .btn-yes::before,
        .btn-yes::after {
            content: "";
            position: absolute;
            width: 50px;
            height: 50px;
            background: #d32f2f;
            border-radius: 50%;
        }

        .btn-yes::before {
            top: -25px;
            left: 0;
        }

        .btn-yes::after {
            left: 25px;
            top: 0;
        }

        .btn-yes:hover {
            transform: rotate(-45deg) scale(1.1);
            background-color: #28a428;
        }

        .btn-yes:hover::before,
        .btn-yes:hover::after {
            background-color: #28a428;
        }


        .swipe-left { transform: translateX(-200%) rotate(-30deg) !important; opacity: 0; }
        .swipe-right { transform: translateX(200%) rotate(30deg) !important; opacity: 0; }

        button {
            padding: 15px 30px; background: #228b22; color: white;
            border: none; font-weight: bold; cursor: pointer; border-radius: 5px;
            transition: transform 0.2s;
        }
        button:hover { transform: scale(1.05); }
    </style>
</head>

<body>
<div id="moss-paywall">
    <h2 style="font-size: 3rem;">PREMIUM MOSS ACCESS</h2>
    <p style="max-width: 600px;">We are facing a shocking moss shortage. Please donate to moss-corp to proceed. Remember, corporations are people too.</p>
    <p>Price: <s>£10,000</s> <strong>£99.99</strong></p>
    <button onclick="fake_pay()">PAY NOW (SPECIAL DEAL)</button>
</div>

<video id="bg-video" muted loop playsinline class="bg-video">
    <source id="video-source" data-src="https://ik.imagekit.io/rmpwvgmau/Moss_on_a_tree_in_green_forest_HD_-_Royalty_Free_Video_The_Collection_1080P.mp4" type="video/mp4">
</video>

<div id="moss-ad-1" class="ad-container">
    <span class="close-btn" onclick="close_ad('moss-ad-1')">&times;</span>
    <img src="https://ik.imagekit.io/rmpwvgmau/ad.png" alt="Real Ad">
    <p>This is your life with moss</p>
    <button onclick="spam_moss()">BUY NOW</button>
</div>

<div id="moss-ad-2" class="ad-container">
    <span class="close-btn" onclick="close_ad('moss-ad-2')">&times;</span>
    <img src="https://ik.imagekit.io/rmpwvgmau/moss_hot.png" alt="Real Ad">
    <p>Click now for some spicy moss pics</p>
    <button onclick="startTinderMode()">Locate hot step moss</button>
</div>

<div id="main-content" class="content-wrapper">
    <h1>DAILY DOSE OF MOSS</h1>
    <p>Your official source of moss.</p>

    <p class="counter-text">Day #<span id="day-counter">Loading...</span></p>
    <img id="moss-image" src="" alt="Moss of today" style="width:100%; max-width: 600px; border: 5px solid #228b22;">

    <h3>Moss button</h3>
    <p>Have you ever wanted a button on a website? Well now you can have one!!</p>

    <div id="moss-container" style="margin-top: 20px;">
        <button id="moss-button" onclick="play_youtube_video()">Click for Moss Content</button>
    </div>

    <ul>
        <li>Buy moss</li>
        <li>Never sell your moss</li>
        <li>Always give us money</li>
        <li>Feel free to leave a tip!</li>
    </ul>

    <hr style="margin: 40px 0; border: 0; border-top: 1px solid #444;">
    <p style="color: #aaa; font-size: 0.8rem;">Warning: there is an increase in scammers. Do NOT click on this link:
        <a href="https://subparplatinum.github.io/Daily-Dose-of-Moss/" style="color: #00ff00;">Fake moss site</a>
    </p>
</div>

<div id="tinder-overlay">
    <div style="margin-bottom: 20px; font-family: 'Arial', sans-serif; font-weight: bold; color: #d63031;">
        Find your perfect moss
    </div>

    <div id="card-container">
    </div>

    <div class="tinder-controls">
        <button class="btn-no" onclick="swipe('left')"></button>
        <button class="btn-yes" onclick="swipe('right')"></button>
    </div>

    <button onclick="closeTinder()" style="margin-top: 30px; background: transparent;
    border: 1px solid #333; color: #333; font-size: 12px; padding: 5px 10px;">Return to being alone forever</button>
</div>

<script>

    function close_ad(id) {
        document.getElementById(id).style.display = 'none';
        popup_ad();
    }
    function fake_pay() {
        alert("Payment successful! The money was automatically taken from your life savings!");

        // Remove paywall
        document.getElementById("moss-paywall").remove();

        // Show main content
        const content = document.getElementById('main-content');
        content.style.display = "block";

        // Load and Play Video
        const video = document.getElementById("bg-video");
        const source = document.getElementById("video-source");
        source.src = source.getAttribute("data-src");
        video.load();
        video.play();
        setTimeout(() => {
            video.style.opacity = "1";
        }, 50);

        const timestamp = new Date().getTime();
        document.getElementById("moss-image").src = "today_moss.jpeg?v=" + timestamp;

        fetch('moss_count.txt?v=' + timestamp)
            .then(response => response.text())
            .then(text => {
                document.getElementById('day-counter').innerText = text;
            });

    }

    function play_youtube_video() {
        const container = document.getElementById('moss-container');
        const videoId = "BJ5JqVKFzIs";
        container.innerHTML = `
                <iframe width="100%" height="315"
                src="https://www.youtube.com/embed/${videoId}?autoplay=1"
                allow="autoplay; encrypted-media" allowfullscreen>
                </iframe>`;
    }

    function popup_ad() {
        const randomPop = Math.floor(Math.random() * (20000 - 8000) + 8000);

        setTimeout(() => {
            let a = ["moss-ad-1", "moss-ad-2"];
            let i = Math.floor(Math.random() * a.length);
            let r = a[i];

            const ad = document.getElementById(r);
            ad.style.display = "block";
        }, randomPop);
    }

    let spamCount = 0;
    let initialDelay = 100;


    function spam_moss() {
        if (spamCount > 50) return;

        const spam = document.createElement('div');
        spam.classList.add('spam-box');
        spam.innerHTML = `<span class="close-spam" onclick="this.parentElement.remove()">X</span>
                      <p>BUY MOSS NOW!</p>
                      <small>Limited Offer #${spamCount}</small>`;

        const x = Math.random() * (window.innerWidth - 200);
        const y = Math.random() * (window.innerHeight - 100);
        spam.style.left = x + 'px';
        spam.style.top = y + 'px';

        document.body.appendChild(spam);

        spamCount++;
        let nextDelay = initialDelay * spamCount;

        setTimeout(spam_moss, nextDelay);
    }

    window.onload = function() {
        popup_ad();
    }

    const mossProfiles = [
        { name: "Sphagnum, 24", bio: "I hold 20x my weight in water.", img: "https://placehold.co/300x300/228b22/fff?text=Sphagnum" },
        { name: "Polytrichum, 118", bio: "Looking for something long term.", img: "https://placehold.co/300x300/1a472a/fff?text=Polytrichum" },
        { name: "Oak Moss, 30", bio: "I am technically a lichen but I am pretty open", img: "https://placehold.co/300x300/556b2f/fff?text=Oak+Moss" },
        { name: "Haircap", bio: "Im tall, Im hot, what's not to love about me", img: "https://placehold.co/300x300/ffcc00/000?text=Haircap" }
    ];

    let currentProfileIndex = 0;

    function startTinderMode() {
        // Hide ad
        document.getElementById('moss-ad-2').style.display = 'none';
        // Show Tinder
        document.getElementById('tinder-overlay').style.display = 'flex';
        renderCard();
    }

    function closeTinder() {
        document.getElementById('tinder-overlay').style.display = 'none';
        popup_ad();
    }

    function swipe(direction) {
        const card = document.getElementById('active-card');
        if(!card) return;

        if (direction === 'left') {
            card.classList.add('swipe-left');
        } else {
            card.classList.add('swipe-right');
        }

        setTimeout(() => {
            currentProfileIndex++;
            renderCard();
        }, 300);
    }

    function renderCard() {
        const container = document.getElementById('card-container');

        if (currentProfileIndex >= mossProfiles.length) {
            container.innerHTML = `<div class="tinder-card" style="padding:20px; text-align:center;">
                <h2>No more moss.</h2><p>You are destined to be alone.</p>
            </div>`;
            return;
        }

        const data = mossProfiles[currentProfileIndex];
        container.innerHTML = `
            <div id="active-card" class="tinder-card">
                <img src="${data.img}" alt="${data.name}">
                <div class="tinder-info">
                    <div class="tinder-name">${data.name}</div>
                    <div class="tinder-bio">${data.bio}</div>
                </div>
            </div>
        `;
    }
</script>
</body>
</html>